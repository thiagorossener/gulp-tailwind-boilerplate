{"version":3,"sources":["node_modules/browser-pack/_prelude.js","scripts.min.js","src/js/app.js","src/js/components/body.js","src/js/decorators.js","src/js/loader.js","src/js/utils.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","module","_loader","_interopRequireDefault","_body","obj","__esModule","default","load","document","lazysizes","_class","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","value","_default","component","_dec","Body","element","options","instance","TypeError","_classCallCheck","this","console","log","name","componentName","dependencies","list","_utils","root","componentsList","isDependency","_this","querySelectorAll","forEach","el","names","getAttribute","split","find","existing","getData","loadedComponents","setData","debug","concat","eval","ex","push","setTimeout","documentElement","classList","remove","Timer","BreakpointListener","findComponent","componentClass","parent","querySelector","findComponentWithId","id","findComponents","Array","from","map","getComponent","data","set","lastId","store","window","WeakMap","info","undefined","myCustomDataTag","get","callback","delay","timerId","start","remaining","pause","clearTimeout","Date","resume","reset","breakpoints","screenSize","windowWidth","innerWidth","timeout","checkView","keys","slice","hasChanged","listener","addEventListener"],"mappings":"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","file":"scripts.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",null,"import 'lazysizes';\nimport 'lazysizes/plugins/unveilhooks/ls.unveilhooks';\nimport 'lazysizes/plugins/object-fit/ls.object-fit';\n\nimport Loader from './loader';\n\nimport Body from './components/body';\n\n\n(() => {\n  Loader.load(document, [\n    Body\n  ]);\n})();","import { component } from '../decorators'\n\n\n@component('body')\nclass Body {\n  constructor(element, options) {\n    console.log('This is the Body component!', element, options);\n  }\n}\n\nexport default Body","export function component(name) {\n  return function (target) {\n    target.componentName = name;\n  };\n}\n\nexport function dependencies(list) {\n  return function (target) {\n    target.dependencies = list;\n  };\n}","import { getData, setData } from './utils';\n\nexport default {\n  load(root, componentsList, isDependency) {\n    root.querySelectorAll('[data-component]').forEach((el) => {\n      let names = el.getAttribute('data-component').split(',');\n      names.forEach((name) => {\n        let component = componentsList.find((c) => c.componentName === name);\n        if (!component) {\n          return false;\n        } else {\n          if (component.dependencies && component.dependencies.length) {\n            this.load(el, component.dependencies, true);\n          }\n          let existing = getData(el) && getData(el).loadedComponents;\n          if (!existing) {\n            existing = [];\n            setData(el, { loadedComponents: existing });\n          }\n          if (!(name in getData(el).loadedComponents)) {\n            let options;\n            try {\n              options =\n                eval('(' + el.getAttribute('data-component-options') + ')') ||\n                {};\n            } catch (ex) {\n              options = {};\n            }\n            let Constructor = component;\n            let obj = new Constructor(el, options);\n            existing.push(name);\n            setData(el, { component: obj });\n            if (isDependency) {\n              console.debug(`[App] Component '${name}' loaded as dependency.`);\n            } else {\n              console.debug(`[App] Component '${name}' loaded.`);\n            }\n          } else {\n            console.debug(`[App] Component '${name}' already loaded`);\n          }\n        }\n      });\n      setTimeout(() =>\n        document.documentElement.classList.remove('app-loading')\n      );\n    });\n  },\n};","// Based on utils from https://blog.garstasio.com/you-dont-need-jquery/utils/\nconst data = window.WeakMap\n  ? new WeakMap()\n  : (function () {\n      let lastId = 0,\n        store = {};\n\n      return {\n        set: function (element, info) {\n          let id;\n          if (element.myCustomDataTag === undefined) {\n            id = lastId++;\n            element.myCustomDataTag = id;\n          }\n          store[id] = info;\n        },\n        get: function (element) {\n          return store[element.myCustomDataTag];\n        },\n      };\n    })();\n\nexport function getData(el) {\n  return data.get(el);\n}\n\nexport function setData(el, obj) {\n  data.set(el, obj);\n}\n\nexport function getComponent(el) {\n  return getData(el).component;\n}\n\nexport function findComponent(componentClass, parent) {\n  const context = parent ? parent : document;\n  return getData(context.querySelector(`[data-component=\"${componentClass.componentName}\"]`)).component;\n}\n\nexport function findComponents(componentClass) {\n  const elements = Array.from(\n    document.querySelectorAll(\n      `[data-component=\"${componentClass.componentName}\"]`\n    )\n  );\n  return elements.map((element) => getData(element).component);\n}\n\nexport function findComponentWithId(componentClass, id) {\n  return getData(\n    document.querySelector(\n      `[data-component=\"${componentClass.componentName}\"]#${id}`\n    )\n  ).component;\n}\n\nexport class Timer {\n  constructor(callback, delay) {\n    let timerId,\n      start,\n      remaining = delay;\n\n    this.pause = function () {\n      window.clearTimeout(timerId);\n      remaining -= new Date() - start;\n    };\n\n    let resume = function () {\n      start = new Date();\n      timerId = window.setTimeout(function () {\n        remaining = delay;\n        resume();\n        callback();\n      }, remaining);\n    };\n    this.resume = resume;\n\n    this.reset = function () {\n      remaining = delay;\n    };\n\n    this.resume();\n  }\n}\n\n/**\n * BreakpointListener\n *\n * Provide information when screen size changes from/to several breakpoints.\n *\n * @param {function} callback\n * @param {json} breakpoints\n */\nexport class BreakpointListener {\n  constructor(callback, breakpoints) {\n    this.screenSize = null;\n    this.windowWidth = window.innerWidth;\n    this.timeout = null;\n\n    this.checkView = () => {\n      let keys = Object.keys(breakpoints);\n\n      let screenSize = keys.slice(-1)[0];\n\n      for (let i = keys.length - 1; i >= 0; i--) {\n        let value = breakpoints[keys[i]];\n        if (this.windowWidth < value) {\n          screenSize = keys[i - 1] || 'xs';\n        }\n      }\n\n      let hasChanged = this.screenSize !== screenSize;\n\n      this.screenSize = screenSize;\n\n      callback({\n        screenSize: this.screenSize,\n        hasChanged: hasChanged,\n      });\n    };\n\n    this.listener = () => {\n      if (this.windowWidth !== window.innerWidth) {\n        this.windowWidth = window.innerWidth;\n\n        if (this.timeout) {\n          clearTimeout(this.timeout);\n        }\n\n        this.timeout = setTimeout(this.checkView, 250);\n      }\n    };\n\n    window.addEventListener('resize', this.listener);\n\n    this.checkView();\n  }\n}"]}